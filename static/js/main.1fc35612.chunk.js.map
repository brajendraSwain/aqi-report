{"version":3,"sources":["redux/aqi/aqi.actions.js","utils/constants.js","components/AqiTable/helpers.js","components/AqiTable/AqiTable.jsx","components/line-chart/LineChart.jsx","components/line-chart/helpers.js","pages/home-page/HomePage.jsx","App.js","reportWebVitals.js","redux/aqi/aqi.reducer.js","redux/root-reducer.js","redux/store.js","index.js"],"names":["addToHistory","cityData","type","payload","AQI_COLOR_CLASSES","class","range","CHANGE_TYPE_CLASS","aqiColorScale","map","d","cityColorStateBackUp","AqiRow","rowData","onRowClick","city","aqi","lastUpdated","colorClass","value","find","getColorClass","Math","round","changeTypeClass","newColor","backUpColor","indexOf","getChangeTypeClass","aqiClass","rowClass","className","onClick","moment","fromNow","AqiHeadRow","connect","state","aqiCityData","allCityData","props","dispatch","evt","ctrlKey","selectSingleCityInChart","Object","entries","key","aData","bind","LineChart","hovered","this","history","cities","length","chartWidth","window","innerWidth","seriesDataList","len","min","historyToBeIterated","slice","allSeries","forEach","i","hData","s","x","y","push","getLineDataSeries","xType","height","width","margin","bottom","tickLabelAngle","series","index","style","strokeWidth","data","getNull","onValueMouseOver","setState","onValueMouseOut","orientation","items","PureComponent","citiesInCompare","HomePage","once","_this","ws","WebSocket","onopen","console","info","onmessage","onAQIDataChange","JSON","parse","onerror","error","setInterval","LIVE_TRACKING_INTERVAL","Date","mappedData","fromEntries","toFixed","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","INITIAL_STATE","getUpdatedHistory","oldHistory","newData","newHistory","aqiReducer","action","cityToBeAdded","includes","filter","combineReducers","store","createStore","rootReducer","composeWithDevTools","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1fc35612.chunk.js","sourcesContent":["export const addCityData = (cityData) => ({\n    type: \"ADD_DATA\",\n    payload: cityData,\n});\n\nexport const addToHistory = (cityData) => ({\n    type: \"ADD_TO_HISTORY\",\n    payload: cityData,\n});\n\nexport const addOrRemoveCityToCompare = (city) => ({\n    type: \"ADD_REMOVE_CITY_FOR_COMPARE\",\n    payload: city,\n});\n\nexport const selectSingleCityInChart = (city) => ({\n    type: \"SELECT_SINGLE_CITY\",\n    payload: city,\n});\n","// `wss` required when we serve the site from a secure endpoint \nexport const AQI_WS_URL = \"wss://city-ws.herokuapp.com\";\n\nexport const AQI_COLOR_CLASSES = [\n    { class: \"good\", range: [0, 50] },\n    { class: \"satisfactory\", range: [51, 100] },\n    { class: \"moderate\", range: [101, 200] },\n    { class: \"poor\", range: [201, 300] },\n    { class: \"very_poor\", range: [301, 400] },\n    { class: \"severe\", range: [401, 500] },\n];\n\nexport const CHANGE_TYPE_CLASS = {\n    positive: \"positive\",\n    negative: \"negative\",\n};\n\nexport const LIVE_TRACKING_INTERVAL = 3 ; // in sec\n\n","import { AQI_COLOR_CLASSES, CHANGE_TYPE_CLASS } from \"../../utils/constants\";\n// order --- good -> severe\nconst aqiColorScale = AQI_COLOR_CLASSES.map((d) => d.class);\n\nexport function getColorClass(value) {\n    return AQI_COLOR_CLASSES.find(\n        (d) => value >= d.range[0] && value <= d.range[1]\n    )?.class;\n}\n\n/**\n * get teh change is positive or negative\n * positive - if aqi is lesser eg - bad to good\n * @param {*} city\n * @param {*} newColor\n * @param {*} backUpColor\n * @returns\n */\nexport function getChangeTypeClass(city, newColor, backUpColor) {\n    if (!backUpColor && aqiColorScale.indexOf(backUpColor) === -1) {\n        return \"\";\n    }\n    if (aqiColorScale.indexOf(newColor) < aqiColorScale.indexOf(backUpColor)) {\n        return CHANGE_TYPE_CLASS.positive;\n    }\n\n    if (aqiColorScale.indexOf(newColor) > aqiColorScale.indexOf(backUpColor)) {\n        return CHANGE_TYPE_CLASS.negative;\n    }\n    return \"\";\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\n\nimport \"./AqiTable.scss\";\nimport {\n    addOrRemoveCityToCompare,\n    selectSingleCityInChart,\n} from \"../../redux/aqi/aqi.actions\";\nimport { getChangeTypeClass, getColorClass } from \"./helpers\";\n\nconst cityColorStateBackUp = {};\n\nexport const AqiTable = (props) => {\n    const { aqiCityData, dispatch } = props;\n    function onRowClick(rowData, evt) {\n        if (evt.ctrlKey) {\n            dispatch(addOrRemoveCityToCompare(rowData.city));\n        } else {\n            dispatch(selectSingleCityInChart(rowData.city));\n        }\n    }\n    return (\n        <table className=\"aqi-table\">\n            <tbody>\n                <AqiHeadRow />\n                {Object.entries(aqiCityData).map(([key, aData]) => (\n                    <AqiRow\n                        key={key}\n                        rowData={aData}\n                        onRowClick={onRowClick.bind(null, aData)}\n                    />\n                ))}\n            </tbody>\n        </table>\n    );\n};\n\nexport function AqiRow({ rowData, onRowClick }) {\n    const { city, aqi, lastUpdated } = rowData;\n    const colorClass = getColorClass(Math.round(aqi));\n    const backUpColor = cityColorStateBackUp[city];\n    const changeTypeClass = getChangeTypeClass(city, colorClass, backUpColor);\n    const aqiClass = `aqi-cell ${colorClass}`;\n    const rowClass = `aqi-row bg-animate ${changeTypeClass}`;\n    cityColorStateBackUp[city] = colorClass;\n    return (\n        <tr className={rowClass} onClick={onRowClick}>\n            <td className=\"aqi-cell\">{city}</td>\n            <td className={aqiClass}>{aqi}</td>\n            <td className=\"aqi-cell\">{moment(lastUpdated).fromNow()}</td>\n        </tr>\n    );\n}\n\nexport function AqiHeadRow() {\n    return (\n        <tr className=\"aqi-head-row\">\n            <td className=\"aqi-cell\">City</td>\n            <td className=\"aqi-cell\">Current AQI</td>\n            <td className=\"aqi-cell\">Last Updated</td>\n        </tr>\n    );\n}\n\nconst mapStateToProps = (state) => ({\n    aqiCityData: state.aqi.allCityData,\n});\n\nexport default connect(mapStateToProps)(AqiTable);\n","import React, { PureComponent } from \"react\";\nimport \"../../../node_modules/react-vis/dist/style.css\";\nimport {\n    XYPlot,\n    XAxis,\n    YAxis,\n    VerticalGridLines,\n    HorizontalGridLines,\n    LineMarkSeries,\n    DiscreteColorLegend,\n    Hint,\n} from \"react-vis\";\nimport \"./LineChart.scss\";\nimport { connect } from \"react-redux\";\nimport { getLineDataSeries } from \"./helpers\";\n\nconst CHART_MIN_WIDTH = 500;\nclass LineChart extends PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            hovered: null,\n        };\n    }\n\n    render() {\n        const { history, cities } = this.props;\n        if (!cities.length) {\n            return (\n                <div className=\"line-container\">\n                    <div className=\"no-data\">\n                        No Cities are Selected <br /> Click on the row to see\n                        city in live chart\n                    </div>\n                </div>\n            );\n        }\n        let chartWidth = window.innerWidth - 650;\n        chartWidth =\n            chartWidth < CHART_MIN_WIDTH ? CHART_MIN_WIDTH : chartWidth;\n\n        const seriesDataList = getLineDataSeries(cities, history);\n        const { hovered } = this.state;\n        return (\n            <div className=\"line-container\">\n                <XYPlot\n                    xType=\"ordinal\"\n                    height={500}\n                    width={chartWidth}\n                    margin={{ bottom: 70 }}\n                >\n                    <VerticalGridLines />\n                    <HorizontalGridLines />\n                    <XAxis tickLabelAngle={-45} />\n                    <YAxis />\n                    {seriesDataList.map((series, index) => {\n                        return (\n                            <LineMarkSeries\n                                key={cities[index]}\n                                style={{\n                                    strokeWidth: \"3px\",\n                                }}\n                                data={series}\n                                getNull={(d) => d.y !== null}\n                                onValueMouseOver={(d) =>\n                                    this.setState({\n                                        hovered: {\n                                            ...d,\n                                            series: cities[index],\n                                        },\n                                    })\n                                }\n                                onValueMouseOut={(d) =>\n                                    this.setState({ hovered: false })\n                                }\n                            />\n                        );\n                    })}\n                    {hovered && <Hint value={hovered} />}\n                    <DiscreteColorLegend\n                        orientation=\"horizontal\"\n                        width={chartWidth}\n                        items={cities}\n                    />\n                </XYPlot>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    history: state.aqi.history,\n    cities: state.aqi.citiesInCompare,\n});\n\nexport default connect(mapStateToProps)(LineChart);\n","import {LIVE_TRACKING_INTERVAL} from \"../../utils/constants\";\n\nexport function getLineDataSeries(cities, history) {\n    const maxLength = 60/LIVE_TRACKING_INTERVAL + 1;\n    const len = Math.min(maxLength, history.length);\n    const historyToBeIterated =\n        history.length > len\n            ? history.slice(history.length - maxLength, history.length)\n            : history;\n    let allSeries = {};\n    cities.forEach((city) => {\n        allSeries[city] = [];\n    });\n    for (let i = 0; i < len; i++) {\n        cities.forEach((city) => {\n            const hData = historyToBeIterated[i][city];\n\n            const s = {\n                x: `${(len - i - 1) * LIVE_TRACKING_INTERVAL} sec ago`,\n                y: hData?.aqi || null,\n            };\n            allSeries[city].push(s);\n        });\n    }\n    return cities.map((city) => allSeries[city]);\n}\n","import React, { PureComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport { addCityData, addToHistory } from \"../../redux/aqi/aqi.actions\";\nimport AqiTable from \"../../components/AqiTable/AqiTable\";\nimport \"./HomePage.scss\";\nimport LineChart from \"../../components/line-chart/LineChart\";\nimport {AQI_WS_URL, LIVE_TRACKING_INTERVAL} from \"../../utils/constants\";\n\nexport class HomePage extends PureComponent {\n    \n    componentDidMount() {\n        let once = true;\n        const _this = this;\n        let ws = new WebSocket(AQI_WS_URL);\n        ws.onopen = function (evt) {\n            console.info(\"ws connection opened\", evt);\n        };\n        ws.onmessage = function (evt) {\n            _this.onAQIDataChange(JSON.parse(evt.data));\n            if (once) {\n                // first time data is to be pushed to history\n                const { dispatch, aqiCityData } = _this.props;\n                dispatch(addToHistory(aqiCityData));\n            }\n            once = false;\n        };\n        ws.onerror = function (evt) {\n            console.error(\"ws connection error\", evt);\n        };\n\n        setInterval(() => {\n            const { dispatch, aqiCityData } = this.props;\n            dispatch(addToHistory(aqiCityData));\n        }, LIVE_TRACKING_INTERVAL * 1000);\n    }\n\n    onAQIDataChange(data) {\n        const lastUpdated = new Date();\n        const { dispatch, aqiCityData } = this.props;\n        const mappedData = Object.fromEntries(\n            data.map((aData) => [\n                aData.city,\n                { ...aData, aqi: +(aData.aqi.toFixed(2)), lastUpdated },\n            ])\n        );\n\n        dispatch(addCityData({ ...aqiCityData, ...mappedData }));\n    }\n\n    render() {\n        return (\n            <div className=\"home-page-container\">\n                <div className=\"heading\"> Air Quality Monitoring </div>\n                <div className=\"body-container\">\n                    <AqiTable />\n                    <LineChart />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    aqiCityData: state.aqi.allCityData,\n});\n\nexport default connect(mapStateToProps)(HomePage);\n","import \"./App.scss\";\nimport HomePage from \"./pages/home-page/HomePage\";\n\nfunction App() {\n  return <HomePage />;\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const INITIAL_STATE = {\n    allCityData: {},\n    history: [],\n    citiesInCompare: [],\n};\nconst aqiReducer = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case \"ADD_DATA\":\n            return {\n                ...state,\n                allCityData: action.payload,\n            };\n        case \"ADD_TO_HISTORY\":\n            const newHistory = getUpdatedHistory(state.history, action.payload);\n            return {\n                ...state,\n                history: newHistory,\n            };\n        case \"ADD_REMOVE_CITY_FOR_COMPARE\":\n            let citiesInCompare = state.citiesInCompare;\n            const cityToBeAdded = action.payload;\n            if (citiesInCompare.includes(cityToBeAdded)) {\n                citiesInCompare = citiesInCompare.filter(\n                    (city) => city !== cityToBeAdded\n                );\n            } else {\n                citiesInCompare = [...citiesInCompare, cityToBeAdded];\n            }\n            return {\n                ...state,\n                citiesInCompare,\n            };\n        case \"SELECT_SINGLE_CITY\":\n            return {\n                ...state,\n                citiesInCompare: [action.payload],\n            };\n        default:\n            return state;\n    }\n};\n\nfunction getUpdatedHistory(oldHistory, newData) {\n    const maxLength = 60; // max 5 minutes of data\n    const newHistory = [...oldHistory, newData];\n    if (newHistory.length <= maxLength) {\n        return newHistory;\n    }\n    const [, ...rest] = newHistory;\n    return rest;\n}\n\nexport default aqiReducer;\n","import { combineReducers } from \"redux\";\nimport aqiReducer from \"./aqi/aqi.reducer\";\n\nexport default combineReducers({\n  aqi: aqiReducer,\n});\n","import { createStore } from \"redux\";\nimport rootReducer from \"./root-reducer\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nconst store = createStore(rootReducer, composeWithDevTools());\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}